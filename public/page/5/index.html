<!DOCTYPE html>
<html class="home" lang="en-us"><head>
	<meta name="generator" content="Hugo 0.126.1"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <meta name="robots" content="noai, noimageai">
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7" />

    
        
          <link href="http://localhost:1313/index.xml" rel="alternate" type="application/rss+xml" title="RIRSC" />
          <link href="http://localhost:1313/index.xml" rel="feed" type="application/rss+xml" title="RIRSC" />
        
    <link
    rel="icon"
    href='Rirsc_Favicon.png'
/>
<link
    rel="shortcut icon"
    href='Rirsc_Favicon.ico'
    type="image/x-icon"
/>
<link
    rel="apple-touch-icon"
    href='/apple-touch-icon.png'
/>

    <link
        rel="icon"
        href='/Rirsc_Logo.svg'
        type="image/svg+xml"
    />

<title>
        
        RIRSC
    </title>

    
    <link href="/symbols-nerd-font/symbols-nerd-font.css" rel="stylesheet" integrity="sha512-lydow8GLOLlYNOtHlksNCmGWWCBsbIEtikXpHzfWqx78HLlyQZHOzyLwPpKol4Th6aCwLUXOfODVYgwrd3nwKQ=="/>
    <link href="/jetbrains-mono/jetbrains-mono.css" rel="stylesheet" integrity="sha512-tJxlgL6v1Y7kFf+qB8SloaAMKnOAw6WouknxXtIjkBux9Y/9aX81EUWOJO8c/3l98DmjG8brr4to7zaez606Fg=="/>

    
    
    <link type="text/css" rel="stylesheet" href=http://localhost:1313/css/styles.3217d7f6d6efcea71a8418ab7d5fbaaa7d56f3db2505d31f60d464bca29ba8a6f3f368c2adcfcb69f8fed84990ed311d621a8421df5d2019ab5c40c033e174c0.css integrity="sha512-MhfX9tbvzqcahBirfV&#43;6qn1W89slBdMfYNRkvKKbqKbz82jCrc/Lafj&#43;2EmQ7TEdYhqEId9dIBmrXEDAM&#43;F0wA==" />
<meta name="author" content="Ricardo López" />

    
        <meta name="description" content="Ricardo López&#39;s blog about programming and other cool stuff" />
    

<meta property="og:site_name"
    content='RIRSC' />

    <meta property="og:title"
        content='RIRSC' />
    
        <meta property="og:description" content="Ricardo López&#39;s blog about programming and other cool stuff" />
    
    <meta property="og:type" content="blog" />
    <meta property="og:image"
        content='http://localhost:1313/android-chrome-512x512.png' />

<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:domain"
      content='localhost:1313'
/>
<meta property="twitter:url" content="http://localhost:1313/" />


    <meta name="twitter:title"
        content='RIRSC' />
    
        <meta name="twitter:description" content="Ricardo López&#39;s blog about programming and other cool stuff" />
    
    <meta name="twitter:image"
        content='http://localhost:1313/android-chrome-512x512.png' />

<link rel="manifest" href="/manifest/index.json" />
</head>


    
    
    

<body>
        <div id="baseContainer"><header class="jumbotronContainer">
<div class="titleAndSearchContainer">
        <div id="titleContainer">
                

            
            <div class="rightOfLogo">
                
                
                <div id="wide_nav"><nav>
    
    <div>RIRSC</div>
    <div>
    <ul id="main-nav">
        
        <li><a href="/">Home</a></li>
        
            <li><a href="/posts/">Posts</a></li>
        
        
        
        
        
            <li><a href="http://localhost:1313/pages/about/">
                About
            </a></li>
        
        
        
        
    </ul>
    </div>
</nav>
</div>
            </div>
            


        </div>
        
    </div>

    

    
</header>
<div id="contentContainer">
                <div id="content">
                    <main>

    
    
    










    




    <div class="list-group-item">
        <h3><a href="http://localhost:1313/posts/feeds-0-7-and-more-features-to-come/">Feeds 0.7 and more features to come</a></h3>
        <p><a href="https://flathub.org/apps/details/org.gabmus.gnome-feeds">Feeds version 0.7 should be out soon</a> with all the features detailed in <a href="/2019/08/20/Feeds-saving-articles-offline-and-marking-stuff-as-read/">this post</a>.</p>
<p>The code starts to feel a little more complex, and it would probably use another small refactoring, but that&rsquo;s not too important right now.</p>
<p>Let&rsquo;s lay out a new roadmap, with the features I implemented, and some new ones I want to add:</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <del>Read and unread articles</del></li>
<li><input disabled="" type="checkbox"> Keeping history of older articles locally (still not sure if I actually want this or not)</li>
<li><input disabled="" type="checkbox"> Adblocking</li>
<li><input checked="" disabled="" type="checkbox"> <del>Saving articles</del></li>
<li><input disabled="" type="checkbox"> Suggestions</li>
<li><input disabled="" type="checkbox"> Integration with GNOME Online Accounts</li>
<li><input disabled="" type="checkbox"> <a href="https://gitlab.gnome.org/GabMus/gnome-feeds/issues/4">Integration with TTRSS</a></li>
<li><input disabled="" type="checkbox"> Ability to open rss links and OPML files</li>
<li><input disabled="" type="checkbox"> <em>Offline mode</em> with a banner indicating that the system is offline</li>
</ul>
<p>There&rsquo;s still some work to do. Of course any help is welcome and appreciated.</p>

    </div>

    <div class="list-group-item">
        <h3><a href="http://localhost:1313/posts/feeds-saving-articles-offline-and-marking-stuff-as-read/">Feeds: saving articles offline and marking stuff as read</a></h3>
        <h2 id="recap">Recap</h2>
<p><a href="https://gabmus.gitlab.io/2019/08/12/feeds-0-6-and-roadmap-md/">In a previous post</a> I layed out a roadmap for my feed reader application <a href="https://flathub.org/apps/details/org.gabmus.gnome-feeds"><strong>Feeds</strong></a>. Here&rsquo;s a little update on how things are going.</p>
<p>Alright, first I want to thank <a href="https://gitlab.com/etamuk">@Etamuk</a> again. He&rsquo;s being very active with the German translation, and any time I make a commit, soon after I already see he has opened a merge request with the updated translation. That&rsquo;s just impressive, and I&rsquo;m truly greatful for his awesome contributions!</p>
<p>But now let&rsquo;s get down to business with the new features.</p>
<h2 id="saving-articles">Saving articles</h2>
<p><img src="/images/post_pics/Feeds-saving-articles-offline-and-marking-stuff-as-read/save_article.avif" alt=""></p>
<p>Every article now has a right click or longpress popover that contains two buttons. The first one is a <em>Save</em> button. You can use it to save or <del>unsave</del> delete an article.</p>
<p>Once an article is saved, its content is downloaded and available offline. This allows easy consultation whenever you want and also provides an alternative to browser bookmarks or online &ldquo;read it later&rdquo; services.</p>
<h2 id="read-and-unread">Read and unread</h2>
<p><img src="/images/post_pics/Feeds-saving-articles-offline-and-marking-stuff-as-read/read_unread.avif" alt=""></p>
<p>A feature that I should have implemented from the beginning made its way into Feeds just now. Articles you read, are marked as read.</p>
<p>The marking was made in the laziest way possible: it just changes the article opacity to 50%. But in my opinion it works alright. Of course you can manually set an article as read or unread by using the dedicated button in the right click or longpress popover.</p>
<h2 id="conclusions">Conclusions</h2>
<p>Maybe these sound like easy things to implement, but to be honest due to the structure of the application, and to the way things work to minimize disk usage and make the whole thing more dynamic and faster overall, to implement these features I had to touch up almost every little piece of the application.</p>
<p>It was worth it in the end, and I&rsquo;m happy of what I accomplished. Hope you like it too when it comes out. I&rsquo;m thinking of doing a 0.7 release. I don&rsquo;t have the feeling that Feeds is worth a 1.0 at the moment. Maybe I need someone to test it out and see how things are working.</p>

    </div>

    <div class="list-group-item">
        <h3><a href="http://localhost:1313/posts/on_comments_and_analytics/">On privacy conscious comments and analytics</a></h3>
        <p>This blog is fairly new, and so I still have to set up everything. Comments are obviously a very important part of a blog, especially if you want any kind of feedback on the stuff you&rsquo;re doing.</p>
<p>The lazy solution is pretty obvious: <a href="https://en.wikipedia.org/wiki/Disqus#Criticism,_privacy,_and_security_concerns"><em>Disqus</em> the privacy nightmare</a>.</p>
<p>I like the wild idea of respecting my readers&rsquo; privacy, and so I started looking for alternative solutions.</p>
<p>The one solution I chose to adopt is an open source comment platform called <a href="https://commento.io/"><strong>Commento</strong></a>. It works just like Disqus, except since it doesn&rsquo;t make money from violating people&rsquo;s privacy, you can&rsquo;t really use it for free.</p>
<p>You can either choose to pay what you want for it (with a minimum of 3 USD) or host it yourself.</p>
<p>I already pay for a VPS for <a href="https://techpills.technology">Tech Pills&rsquo; website</a>, but it&rsquo;s not subject to heavy load, so a service more running on it wouldn&rsquo;t really hurt.</p>
<p>You can install Commento using <code>docker-compose</code>, which is very convenient. I made some changes to the <code>docker-compose.yml</code> file to better suit my needs, and put an nginx reverse proxy in front of it to add https into the mix.</p>
<p>After writing some CSS to adapt it to the blog&rsquo;s theme, the new comment box is ready to roll.</p>
<p>As a nice (unexpected) bonus, Commento also provides some basic analytics like total page views and number of comments. And that&rsquo;s all totally anonymous, it&rsquo;s just a faceless number that&rsquo;s not associated to any identity.</p>
<p>And that&rsquo;s about it, if you&rsquo;re looking for a privacy respecting, open source, powerful comment platform, that&rsquo;s also pretty easy to install and offers some bonus analytics on top, Commento is the way to go.</p>

    </div>

    <div class="list-group-item">
        <h3><a href="http://localhost:1313/posts/feeds-0-6-and-roadmap-md/">Feeds 0.6 and future roadmap</a></h3>
        <p><a href="https://flathub.org/apps/details/org.gabmus.gnome-feeds">Feeds version 0.6 is out</a> with two important changes:</p>
<ul>
<li>German translation thanks to <a href="https://gitlab.com/etamuk">@Etamuk</a></li>
<li>Concurrent feeds refresh</li>
</ul>
<p>About the translation, I know when a project starts becoming interesting, people want to contribute. And translations are in my experience one of the indication of people really getting passionate.</p>
<p>I am really flattered by this contribution and it really means a lot to see this project getting some love.</p>
<p>Moving on to the more technical stuff, concurrent refresh or parallel refresh.</p>
<p>It was surprisingly easy to implement, and that really shows how important having a modular and well-thought-out code structure is.</p>
<p>You see, the feed download and object creation (along with the creation of all the feed items) happens asynchronously already, but adding that feed, and all of its articles to the active lists doesn&rsquo;t. There is this wonderful function <code>GLib.idle_add(function, *args)</code> that makes this whole process so easy and elegant. This function does no more than telling the main thread to run <code>function(*args)</code> whenever it can, no rush (although to a human it&rsquo;s almost instantaneous). With this method the GUI thread doesn&rsquo;t get interrupted and the UI doesn&rsquo;t freeze, but the function is still ran synchronously to it, avoiding any problems of mutual exclusion to precious variables.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#6272a4"># https://gitlab.com/gabmus/gnome-feeds/blob/0.6/gfeeds/feeds_manager.py#L139</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">FeedsManager</span>(metaclass<span style="color:#ff79c6">=</span>Singleton):
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4"># ...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">refresh</span>(self, <span style="color:#ff79c6">*</span>args):
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4"># ...</span>
</span></span><span style="display:flex;"><span>        threads_pool <span style="color:#ff79c6">=</span> []
</span></span><span style="display:flex;"><span>        threads_alive <span style="color:#ff79c6">=</span> []
</span></span><span style="display:flex;"><span>        MAX_THREADS <span style="color:#ff79c6">=</span> self<span style="color:#ff79c6">.</span>confman<span style="color:#ff79c6">.</span>conf[<span style="color:#f1fa8c">&#39;max_refresh_threads&#39;</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">for</span> f_link <span style="color:#ff79c6">in</span> self<span style="color:#ff79c6">.</span>confman<span style="color:#ff79c6">.</span>conf[<span style="color:#f1fa8c">&#39;feeds&#39;</span>]:
</span></span><span style="display:flex;"><span>            t <span style="color:#ff79c6">=</span> threading<span style="color:#ff79c6">.</span>Thread(
</span></span><span style="display:flex;"><span>                group <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">None</span>,
</span></span><span style="display:flex;"><span>                target <span style="color:#ff79c6">=</span> self<span style="color:#ff79c6">.</span>_add_feed_async_worker,
</span></span><span style="display:flex;"><span>                name <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">None</span>,
</span></span><span style="display:flex;"><span>                args <span style="color:#ff79c6">=</span> (f_link, <span style="color:#ff79c6">True</span>)
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            threads_pool<span style="color:#ff79c6">.</span>append(t)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">while</span> <span style="color:#8be9fd;font-style:italic">len</span>(threads_pool) <span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">if</span> <span style="color:#8be9fd;font-style:italic">len</span>(threads_alive) <span style="color:#ff79c6">&lt;</span> MAX_THREADS:
</span></span><span style="display:flex;"><span>                t <span style="color:#ff79c6">=</span> threads_pool<span style="color:#ff79c6">.</span>pop(<span style="color:#bd93f9">0</span>)
</span></span><span style="display:flex;"><span>                t<span style="color:#ff79c6">.</span>start()
</span></span><span style="display:flex;"><span>                threads_alive<span style="color:#ff79c6">.</span>append(t)
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">for</span> i, t <span style="color:#ff79c6">in</span> <span style="color:#8be9fd;font-style:italic">enumerate</span>(threads_alive):
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">if</span> <span style="color:#ff79c6">not</span> t<span style="color:#ff79c6">.</span>is_alive():
</span></span><span style="display:flex;"><span>                    threads_alive<span style="color:#ff79c6">.</span>pop(i)
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">while</span> t<span style="color:#ff79c6">.</span>is_alive():
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">while</span> Gtk<span style="color:#ff79c6">.</span>events_pending():
</span></span><span style="display:flex;"><span>                    Gtk<span style="color:#ff79c6">.</span>main_iteration()
</span></span></code></pre></div><p>This is the wonderful code that manages the parallel refresh. It&rsquo;s fairly straight forward, it keeps a pool of threads to run, and runs n of them at a time, where n is the maximum number of threads set by the user (defaults to a very mild 2).</p>
<p>Apart from making the refresh process faster by itself, it also reduces the impact of problems like one feed taking longer than the others to download or parse. It&rsquo;s not a likely occurrence, but if and when it happens, it doesn&rsquo;t injure the user experience too much. That&rsquo;s because the slow feed is being processed in its own thread, but the whole refresh operation doesn&rsquo;t have to wait on it.</p>
<p>Moving on, I wanted to lay out a roadmap of where I want Feeds to go in the future.</p>
<ul>
<li><strong>Read and unread articles</strong>: currently Feeds doesn&rsquo;t keep track of your actions, and if you did or didn&rsquo;t read an article. This would require some strcuture, like the serialization and deserialization of articles to a skinnier, more targeted data structure (probably something like tsv or json, but the latter is more likely)</li>
<li><strong>Keeping history of older articles locally</strong>: rss feeds typically don&rsquo;t contain the whole archive, mostly because the resulting file would be huge and unwieldy. But people may want to be able to re-read articles they saw some time prior. That&rsquo;s why there needs to be an option to store them up to the user&rsquo;s preference. Again, this needs serialization/deserialization as described in the bullet point above</li>
<li><strong>Adblocking</strong>: this speaks for itself. Modern websites are a mess, disabling JavaScript helps, but it&rsquo;s neither a soltion nor a silver bullet</li>
<li><strong>Saving articles</strong>: kinda like bookmarks, but not quite. Let&rsquo;s say you add this awesome blog to your feeds, and you read a super interesting article about how to make feeds refreshing concurrent with just a bunch of lines of code. You surely want to save that! I mean, it could be useful someday right? That&rsquo;s a likely usecase for me. Also, you&rsquo;d wanna keep it offline as well, just in case you need it when you&rsquo;re on a plane or something</li>
<li><strong>Suggestions</strong>: many online news readers give you suggestions on what to follow. It&rsquo;s an interesing feature and I&rsquo;d want to add that. People are so addicted and accustomed to social media websites that this is what they expect news consumption to be.</li>
<li><strong>Integration with GNOME Online Accounts</strong>: mostly to be able to sync with services like Nextcloud News. Would be a hell of a feature.</li>
</ul>
<p>And that&rsquo;s it folks. This is the list of what I&rsquo;d want to accomplish with Feeds. Not all of these features are easy, and some are prone to make the whole app slower, and that&rsquo;s one thing I 100% want to avoid.</p>

    </div>

    <div class="list-group-item">
        <h3><a href="http://localhost:1313/posts/hello-world/">Hello, world</a></h3>
        <h2 id="my-new-web-home">My new web home</h2>
<p>Hey people. I finally got around at creating a static blog.</p>
<p>After using <a href="https://gohugo.io/">Hugo</a> for a while, and initially deciding to try out <a href="https://blog.getpelican.com/">Pelican</a>, just to realize it&rsquo;s in a sad, outdated state right now, I settled on <a href="https://hexo.io">Hexo</a>.</p>
<p>It&rsquo;s not like I&rsquo;m crazy for JavaScript, quite the contrary. But I do realize it has its place sometimes. Using <code>npm</code> to install plugins is pretty clever, and besides at the end of the day I am the only one that has to use it.</p>
<p>It has a more complex structure compared to the aforementioned solutions, but if it gets the job done I can&rsquo;t complain too much.</p>
<h2 id="recap">Recap</h2>
<p>This is an interesting point in my life. In July I got my bachelor&rsquo;s in Computer Science, it was a pretty great achievement, and soon I&rsquo;ll be heading to Milan to get a master degree.</p>
<p>About my projects, things are going very well. I am focusing a lot on GTK/GNOME apps, probably because I&rsquo;m making things I want to use in the first place.</p>
<p><a href="https://gabmus.gitlab.io/HydraPaper">HydraPaper</a> got a pretty substantial update, introducing <a href="https://source.puri.sm/Librem5/libhandy">libhandy</a> into the mix to spice up its looks somehow, and mostly to make use of some comodity widgets it offers, namely the awesome <code>HdyPreferencesWindow</code>.</p>
<p>For the thesis of my bachelor&rsquo;s, I presented another interesting app called <a href="https://gitlab.com/GabMus/unifydmin">Unifydmin</a>. It&rsquo;s a control center and administration panel for servers. It&rsquo;s a very interesting project, but it&rsquo;s still quite rough around the edges. I have to find the motivation to pick it up again, but right now I&rsquo;m focused on another project.</p>
<p>And this project is <a href="https://gabmus.gitlab.io/gnome-feeds">Feeds</a>, a feed reader. It may sound dumb, but I couldn&rsquo;t find a single feed reader app for linux that I liked. Everything is either old, slow or electron based. After some time complaining about this (my girlfriend and friends can tell you about it), and basically using reddit and the podcasts I follow to get the latest news, I said F it, and made my own thing. It&rsquo;s going pretty well and the people that tried it seem to like it, and that makes me actually very proud of it.</p>
<p>And I think that&rsquo;s about it for now. I hope I manage to get my S together and start blogging more frequently, because I quite enjoy being able to share dev stuff online.</p>
<p>Let&rsquo;s see where that goes.</p>

    </div>

<div id="getNextBtnContainer"></div>


    
    <div id="pageNavigation" class='
            
    '>
        
            <a href="/page/4/" title='Previous page'>
                
                    &lt;&lt;&lt;
                
            </a>
        
        
        
            
                <a href="/">1</a>
            
        
            
                <a href="/page/2/">2</a>
            
        
            
                <a href="/page/3/">3</a>
            
        
            
                <a href="/page/4/">4</a>
            
        
            
            <span>
                [5]
            </span>
            
        
            
                <a href="/page/6/">6</a>
            
        
        
            <a href="/page/6/" title='Next page'>
                
                    &gt;&gt;&gt;
                
            </a>
        
    </div>





                    </main><footer>
    <hr />

<p><small>
        2024 &copy; Ricardo López
    </small></p>
    <p><small>

    </small></p>
</footer>
</div>
            </div>
        </div>


</body>
</html>
