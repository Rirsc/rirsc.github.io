<!DOCTYPE html>
<html class="home" lang="en-us"><head>
	<meta name="generator" content="Hugo 0.126.1"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <meta name="robots" content="noai, noimageai">
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7" />

    
        
          <link href="http://localhost:1313/index.xml" rel="alternate" type="application/rss+xml" title="RIRSC" />
          <link href="http://localhost:1313/index.xml" rel="feed" type="application/rss+xml" title="RIRSC" />
        
    <link
    rel="icon"
    href='Rirsc_Favicon.png'
/>
<link
    rel="shortcut icon"
    href='Rirsc_Favicon.ico'
    type="image/x-icon"
/>
<link
    rel="apple-touch-icon"
    href='/apple-touch-icon.png'
/>

    <link
        rel="icon"
        href='/Rirsc_Logo.svg'
        type="image/svg+xml"
    />

<title>
        
        RIRSC
    </title>

    
    <link href="/symbols-nerd-font/symbols-nerd-font.css" rel="stylesheet" integrity="sha512-lydow8GLOLlYNOtHlksNCmGWWCBsbIEtikXpHzfWqx78HLlyQZHOzyLwPpKol4Th6aCwLUXOfODVYgwrd3nwKQ=="/>
    <link href="/jetbrains-mono/jetbrains-mono.css" rel="stylesheet" integrity="sha512-tJxlgL6v1Y7kFf+qB8SloaAMKnOAw6WouknxXtIjkBux9Y/9aX81EUWOJO8c/3l98DmjG8brr4to7zaez606Fg=="/>

    
    
    <link type="text/css" rel="stylesheet" href=http://localhost:1313/css/styles.3217d7f6d6efcea71a8418ab7d5fbaaa7d56f3db2505d31f60d464bca29ba8a6f3f368c2adcfcb69f8fed84990ed311d621a8421df5d2019ab5c40c033e174c0.css integrity="sha512-MhfX9tbvzqcahBirfV&#43;6qn1W89slBdMfYNRkvKKbqKbz82jCrc/Lafj&#43;2EmQ7TEdYhqEId9dIBmrXEDAM&#43;F0wA==" />
<meta name="author" content="Ricardo López" />

    
        <meta name="description" content="Ricardo López&#39;s blog about programming and other cool stuff" />
    

<meta property="og:site_name"
    content='RIRSC' />

    <meta property="og:title"
        content='RIRSC' />
    
        <meta property="og:description" content="Ricardo López&#39;s blog about programming and other cool stuff" />
    
    <meta property="og:type" content="blog" />
    <meta property="og:image"
        content='http://localhost:1313/android-chrome-512x512.png' />

<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:domain"
      content='localhost:1313'
/>
<meta property="twitter:url" content="http://localhost:1313/" />


    <meta name="twitter:title"
        content='RIRSC' />
    
        <meta name="twitter:description" content="Ricardo López&#39;s blog about programming and other cool stuff" />
    
    <meta name="twitter:image"
        content='http://localhost:1313/android-chrome-512x512.png' />

<link rel="manifest" href="/manifest/index.json" />
</head>


    
    
    

<body>
        <div id="baseContainer"><header class="jumbotronContainer">
<div class="titleAndSearchContainer">
        <div id="titleContainer">
                

            
            <div class="rightOfLogo">
                
                
                <div id="wide_nav"><nav>
    
    <div>RIRSC</div>
    <div>
    <ul id="main-nav">
        
        <li><a href="/">Home</a></li>
        
            <li><a href="/posts/">Posts</a></li>
        
        
        
        
        
            <li><a href="http://localhost:1313/pages/about/">
                About
            </a></li>
        
        
        
        
    </ul>
    </div>
</nav>
</div>
            </div>
            


        </div>
        
    </div>

    

    
</header>
<div id="contentContainer">
                <div id="content">
                    <main>

    
    
    







    



<div class="postlist " id="postlist">
    <article class="card postlistitem">
    <div>
        <h2>
            <a href="http://localhost:1313/_drafts/gitlab-ci-cd-for-flatpak/">GitLab CI/CD for Flatpak</a>
        </h2>
        <p class="date">
            <span title='Date'> </span>
    2019-08-31


        </p>
        
            
        
        
            <div class="articlePreview">
                <p>
                    
                        Thanks to this document, and a quick look at nautilus&rsquo;s git repo I was able to automatically generate fresh flatpaks directly from GitLab by using the integrated CI/CD system.
My current setup isn&rsquo;t perfect but it manages to automate flatpak builds. This is incredibly useful, as when people open issues and I try to fix them, I can just tell them to install the lastest flatpak from the CI/CD and test the fixes.
Also, for power users and curious minds I imagine it could be compelling to be able to install the latest development snapshot without jumping through many hoops.
Anyway, let&rsquo;s get down to business, here&rsquo;s the .gitlab-ci.yml file to let the magic happen:
include: &#39;https://gitlab.gnome.org/GNOME/citemplates/raw/master/flatpak/flatpak_ci_initiative.yml&#39; variables: BUNDLE: &#34;gfeeds.flatpak&#34; flatpak: image: &#39;registry.gitlab.gnome.org/gnome/gnome-runtime-images/gnome:3.32&#39; variables: MANIFEST_PATH: &#34;dist/flatpak/org.gabmus.gfeeds.json&#34; MESON_ARGS: &#34;-Dprofile=Devel&#34; FLATPAK_MODULE: &#34;gfeeds&#34; RUNTIME_REPO: &#34;https://flathub.org/repo/flathub.flatpakrepo&#34; APP_ID: &#34;org.gabmus.gfeeds&#34; extends: .flatpak review: stage: deploy dependencies: - &#39;flatpak&#39; extends: &#39;.review&#39; stop_review: stage: deploy extends: &#39;.stop_review&#39; Hope you find a good use for it.
                    
                </p>
                <p><a href="http://localhost:1313/_drafts/gitlab-ci-cd-for-flatpak/">Continue reading </a></p>
            </div>
        
    </div>
    <hr />
</article>
<article class="card postlistitem">
    <div>
        <h2>
            <a href="http://localhost:1313/_drafts/early-adopter-experience-with-the-new-radeon-rx-5700-xt-on-arch-linux/">Early adopter experience with the new Radeon RX 5700XT on Arch Linux</a>
        </h2>
        <p class="date">
            <span title='Date'> </span>
    2019-08-31


        </p>
        
            
                <a class="unstyledLink" href="http://localhost:1313/_drafts/early-adopter-experience-with-the-new-radeon-rx-5700-xt-on-arch-linux/">
                    
                        <img src="/images/post_pics/Early-adopter-experience-with-the-new-Radeon-RX-5700-XT-on-Arch-Linux/navi.avif" alt="" />
                    
                </a>
            
        
        
            <div class="articlePreview">
                <p>
                    
                        So I recently got myself a shiny new AMD Radeon RX 5700 XT GPU (that&rsquo;s a mouthful).
Let&rsquo;s see how it does on Linux.
Installation First, I use Arch (btw) and that makes things a lot easier, at least for now. As of writing this, Navi support is still not in the mainline kernel, but it should come with Linux 5.3.
Because of the AUR and many other fun things, this isn&rsquo;t much of a problem in Arch.
Don&rsquo;t be surprised when you install the GPU in your PC and don&rsquo;t see Xorg or anything resembling a GUI popping up.
First, you need to add a new repo to your system. Put the following in /etc/pacman.conf, just above the [core] repository:
[mesa-git] Server = https://pkgbuild.com/~lcarlier/$repo/$arch SigLevel = Optional Now, let&rsquo;s install some packages:
sudo pacman -Sy amdvlk clang-git libclc-git libdrm-git llvm-git llvm-libs-git mesa-git opencl-mesa-git vulkan-mesa-layer-git vulkan-radeon-git xf86-video-amdgpu-git lib32-mesa-git lib32-mesa-git lib32-vulkan-radeon-git lib32-vulkan-mesa-layer-git This will cover most of the stuff needed to make the GPU work correctly.
Now we need the new kernel modules. For this, you have two routes: install amdgpu-dkms from the AUR, or install linux-git from the AUR. I personally suggest you to go with linux-git as the dkms driver is not official as far as I know and doesn&rsquo;t cover all the stuff that&rsquo;s needed to make the GPU work 100% (like sensors support).
Whatever route you choose, there&rsquo;s still one more thing you need to install from the AUR: the linux-firmware-agd5f-radeon-navi10 package. This is a package I made myself containing the latest firmware for Navi 10 GPUs right from the driver developer.
So, to summarize, here&rsquo;s a copy-paste command you can run:
yay -S linux-git linux-firmware-agd5f-radeon-navi10 Quick note, I tried installing mesa-aco-git, even just to give it a try, but unfortunately I wasn&rsquo;t able to get Xorg (or Wayland for that matter) running with it. Maybe in the future, we&rsquo;ll see.
Gaming performance First, all of the games I&rsquo;m gonna talk about were ran at 1440p. They were all tested in GNOME Wayland, and the ones showing problems were also tested in GNOME Xorg and XFCE.
So, performance is of course great, especially in native games. Here&rsquo;s a list of games I maxed out without any hiccup or visible problem:
Rocket League Dark Souls 3 Road Redemption CS:GO DOOM 2016 The Witcher 3 Fallout 4 (except for a mouse problem unrelated to the GPU) Tabletop Simulator For The King Keep Talking and Nobody Explodes Xonotic Small note on The Witcher 3: it runs pretty much flawlessly, but I experienced some occasional frame rate drops, especially early on when I loaded the game. This usually goes away after 10 minutes or so of gameplay.
I had various problems with other games, and pretty weird ones, too. I think they&rsquo;re worth documenting.
IMPORTANT UPDATE The games that are crossed out below don&rsquo;t actually have anything wrong with them. I am just dumb enough to have used the non git versions of the mesa 32 bit libraries. I updated the install command above, just to make sure nobody gets the same problems.
Distance: the game launches, but performance is terrible (2 fps in the menu at 1440p). Obviously there&rsquo;s something wrong, as the game is far from being that heavy. Screencheat: about 7 fps in game, 12 or so in the menu. Very similar to the problem with Distance. Hover: Revolt of Gamers: As above, performance is unexplainably terrible even in the main menu. Rise of the Tomb Raider: game seems to work fine, launches and the menu is perfectly responsive, but 5 seconds or so after I get in game, the whole game freezes into an unrecoverable state. Quake Champions: Similar to Rise of the Tomb Raider, menu works perfectly, almost instant freeze as soon as I get in game. But Quake Champions is far from being a technically well engineered game. Enter the Gungeon: Perfectly playable, but some of the graphics show some small amount of glitches. No Man&rsquo;s Sky: Games works almost perfectly, but the framerate drops heavily inside menus. An interesting fact: in the games I&rsquo;ve tested, where the framerate is unexplainably low, sensors shows the power draw of the GPU to be stuck at 30W (same as idle). Other games that give no problems like The Witcher 3 manage to raise the power draw between 150W and 300W. I later confirmed that (of course) the clock speeds (monitored via sudo watch cat /sys/kernel/debug/dri/0/amdgpu_pm_info) are directly proportional to the power draw.
This probably shows something&rsquo;s wrong with the driver. It made me wonder if I could force a clock speed on the GPU manually to see if those games work fine. I didn&rsquo;t want to go that route since it would kinda count as an overclock and I&rsquo;m still not confident enough in my abilities or in the driver&rsquo;s.
What I did try to do was force the higher pstates (power states) on the GPU to see if that would work. Of course, it doesn&rsquo;t. Following the AMDGPU page on the Arch Wiki I tried these commands:
sudo -i # better be root for this echo &#34;manual&#34; &gt; /sys/class/drm/card0/device/power_dpm_force_performance_level echo &#34;2&#34; &gt; /sys/class/drm/card0/device/pp_dpm_mclk # set highest pstate 2 on the memory echo &#34;5 6 7&#34; &gt; /sys/class/drm/card0/device/pp_dpm_sclk # set higher pstates 5, 6 and 7 on the actual gpu This didn&rsquo;t work at all, and showed some rather interesting errors in dmesg, similar to this one: Failed to send message 0x20, response 0xfffffffb param 0x5. Of course searching for these messages gave me zero results.
About OpenCL: Unsurprisingly Clover doesn&rsquo;t work, but so doesn&rsquo;t the AMDGPU-PRO OpenCL implementation. Still need to investigate that further, I didn&rsquo;t get into much detail with OpenCL. Will do soon after I have these more serious problems sorted out. OpenCL now works using the opencl-amdgpu-pro-pal package from AUR.
Conclusions It&rsquo;s not an entirely bad thing to be an early adopter. I mean, I am starting to understand how the driver works (kinda?) and digging into lower level stuff with the kernel and the GPU than I&rsquo;ve ever had.
This said, there&rsquo;s still much I don&rsquo;t understand. I am willing to learn and help. If you have more experience with this stuff and want to add your voice to the conversation, don&rsquo;t hesitate to comment or contact me personally.
Will keep this blog updated with any news regarding making this GPU work.
                    
                </p>
                <p><a href="http://localhost:1313/_drafts/early-adopter-experience-with-the-new-radeon-rx-5700-xt-on-arch-linux/">Continue reading </a></p>
            </div>
        
    </div>
    <hr />
</article>
<article class="card postlistitem">
    <div>
        <h2>
            <a href="http://localhost:1313/_drafts/feeds-0-7-and-more-features-to-come/">Feeds 0.7 and more features to come</a>
        </h2>
        <p class="date">
            <span title='Date'> </span>
    2019-08-23


        </p>
        
            
        
        
            <div class="articlePreview">
                <p>
                    
                        Feeds version 0.7 should be out soon with all the features detailed in this post.
The code starts to feel a little more complex, and it would probably use another small refactoring, but that&rsquo;s not too important right now.
Let&rsquo;s lay out a new roadmap, with the features I implemented, and some new ones I want to add:
Read and unread articles Keeping history of older articles locally (still not sure if I actually want this or not) Adblocking Saving articles Suggestions Integration with GNOME Online Accounts Integration with TTRSS Ability to open rss links and OPML files Offline mode with a banner indicating that the system is offline There&rsquo;s still some work to do. Of course any help is welcome and appreciated.
                    
                </p>
                <p><a href="http://localhost:1313/_drafts/feeds-0-7-and-more-features-to-come/">Continue reading </a></p>
            </div>
        
    </div>
    <hr />
</article>
<article class="card postlistitem">
    <div>
        <h2>
            <a href="http://localhost:1313/_drafts/feeds-saving-articles-offline-and-marking-stuff-as-read/">Feeds: saving articles offline and marking stuff as read</a>
        </h2>
        <p class="date">
            <span title='Date'> </span>
    2019-08-20


        </p>
        
            
        
        
            <div class="articlePreview">
                <p>
                    
                        Recap In a previous post I layed out a roadmap for my feed reader application Feeds. Here&rsquo;s a little update on how things are going.
Alright, first I want to thank @Etamuk again. He&rsquo;s being very active with the German translation, and any time I make a commit, soon after I already see he has opened a merge request with the updated translation. That&rsquo;s just impressive, and I&rsquo;m truly greatful for his awesome contributions!
But now let&rsquo;s get down to business with the new features.
Saving articles Every article now has a right click or longpress popover that contains two buttons. The first one is a Save button. You can use it to save or unsave delete an article.
Once an article is saved, its content is downloaded and available offline. This allows easy consultation whenever you want and also provides an alternative to browser bookmarks or online &ldquo;read it later&rdquo; services.
Read and unread A feature that I should have implemented from the beginning made its way into Feeds just now. Articles you read, are marked as read.
The marking was made in the laziest way possible: it just changes the article opacity to 50%. But in my opinion it works alright. Of course you can manually set an article as read or unread by using the dedicated button in the right click or longpress popover.
Conclusions Maybe these sound like easy things to implement, but to be honest due to the structure of the application, and to the way things work to minimize disk usage and make the whole thing more dynamic and faster overall, to implement these features I had to touch up almost every little piece of the application.
It was worth it in the end, and I&rsquo;m happy of what I accomplished. Hope you like it too when it comes out. I&rsquo;m thinking of doing a 0.7 release. I don&rsquo;t have the feeling that Feeds is worth a 1.0 at the moment. Maybe I need someone to test it out and see how things are working.
                    
                </p>
                <p><a href="http://localhost:1313/_drafts/feeds-saving-articles-offline-and-marking-stuff-as-read/">Continue reading </a></p>
            </div>
        
    </div>
    <hr />
</article>
<article class="card postlistitem">
    <div>
        <h2>
            <a href="http://localhost:1313/_drafts/on_comments_and_analytics/">On privacy conscious comments and analytics</a>
        </h2>
        <p class="date">
            <span title='Date'> </span>
    2019-08-14


        </p>
        
            
        
        
            <div class="articlePreview">
                <p>
                    
                        This blog is fairly new, and so I still have to set up everything. Comments are obviously a very important part of a blog, especially if you want any kind of feedback on the stuff you&rsquo;re doing.
The lazy solution is pretty obvious: Disqus the privacy nightmare.
I like the wild idea of respecting my readers&rsquo; privacy, and so I started looking for alternative solutions.
The one solution I chose to adopt is an open source comment platform called Commento. It works just like Disqus, except since it doesn&rsquo;t make money from violating people&rsquo;s privacy, you can&rsquo;t really use it for free.
You can either choose to pay what you want for it (with a minimum of 3 USD) or host it yourself.
I already pay for a VPS for Tech Pills&rsquo; website, but it&rsquo;s not subject to heavy load, so a service more running on it wouldn&rsquo;t really hurt.
You can install Commento using docker-compose, which is very convenient. I made some changes to the docker-compose.yml file to better suit my needs, and put an nginx reverse proxy in front of it to add https into the mix.
After writing some CSS to adapt it to the blog&rsquo;s theme, the new comment box is ready to roll.
As a nice (unexpected) bonus, Commento also provides some basic analytics like total page views and number of comments. And that&rsquo;s all totally anonymous, it&rsquo;s just a faceless number that&rsquo;s not associated to any identity.
And that&rsquo;s about it, if you&rsquo;re looking for a privacy respecting, open source, powerful comment platform, that&rsquo;s also pretty easy to install and offers some bonus analytics on top, Commento is the way to go.
                    
                </p>
                <p><a href="http://localhost:1313/_drafts/on_comments_and_analytics/">Continue reading </a></p>
            </div>
        
    </div>
    <hr />
</article>

    </div>
    <div id="getNextBtnContainer"></div>


    
    <div id="pageNavigation" class='
            
    '>
        
            <a href="/page/4/" title='Previous page'>
                
                    &lt;&lt;&lt;
                
            </a>
        
        
        
            
                <a href="/">1</a>
            
        
            
                <a href="/page/2/">2</a>
            
        
            
                <a href="/page/3/">3</a>
            
        
            
                <a href="/page/4/">4</a>
            
        
            
            <span>
                [5]
            </span>
            
        
            
                <a href="/page/6/">6</a>
            
        
        
            <a href="/page/6/" title='Next page'>
                
                    &gt;&gt;&gt;
                
            </a>
        
    </div>





                    </main><footer>
    <hr />

<p><small>
        2024 &copy; Ricardo López
    </small></p>
    <p><small>

    </small></p>
</footer>
</div>
            </div>
        </div>


</body>
</html>
